(function(b){b.fn.linkAccordion=function(g){var a=b.extend({},{closedClass:"toggled-closed",closeText:"Close",headingElement:"h2",linkHeadings:!1,openedClass:"toggled-open",openText:"Open",speed:"normal",toggleLinkClass:"section-toggle"},g),f=b(this).find(a.headingElement).addClass(a.closedClass),h=b(this).find(a.headingElement).next().not(a.headingElement).hide();return f.each(function(g,e){if(!b(this).next().is(a.headingElement)&&b(this).next().length>0)if(a.linkHeadings===!0)b(e).click(function(){var d= b(e),c=b(this).next();c.is(":hidden")?(d.removeClass(a.closedClass).addClass(a.openedClass),h.not(c).hide(a.speed),f.not(d).removeClass(a.openedClass).addClass(a.closedClass)):d.removeClass(a.openedClass).addClass(a.closedClass);c.slideToggle(a.speed);return!1});else{var i=b("<a/>").text(a.openText).attr({href:"#"}).addClass(a.toggleLinkClass+" "+a.closedClass).click(function(){var d=b(e),c=d.next();c.is(":hidden")?(b(this).text(a.closeText).removeClass(a.closedClass).addClass(a.openedClass),h.not(c).hide(a.speed), f.not(d).find("."+a.toggleLinkClass).text(a.openText).removeClass(a.openedClass).addClass(a.closedClass)):b(this).text(a.openText).removeClass(a.openedClass).addClass(a.closedClass);c.slideToggle(a.speed);return!1});b(e).append(i)}})}})(jQuery);