(function(c){c.fn.linkAccordion=function(f){var d=c(this),a=c.extend({},{closedClass:"toggled-closed",closeText:"Close",headingElement:"h2",linkHeadings:!1,openedClass:"toggled-open",openText:"Open",slideToggle:"slow",toggleLinkClass:"section-toggle"},f),g=d.find(a.headingElement).addClass(a.closedClass),h=d.find(a.headingElement).next().not(a.headingElement).hide();return g.each(function(d,f){var b=c(f),e=b.next();if(!b.next().is(a.headingElement)&&0<b.next().length)if(!0===a.linkHeadings)b.click(function(c){e.is(":hidden")? (b.removeClass(a.closedClass).addClass(a.openedClass),h.not(e).slideUp(a.slideToggle),g.not(b).removeClass(a.openedClass).addClass(a.closedClass)):b.removeClass(a.openedClass).addClass(a.closedClass);e.slideToggle(a.slideToggle);c.preventDefault()});else{var j=c('<a href="#" />').text(a.openText).addClass(a.toggleLinkClass+" "+a.closedClass).click(function(f){var d=c(this);e.is(":hidden")?(d.text(a.closeText).removeClass(a.closedClass).addClass(a.openedClass),h.not(e).hide(a.speed),g.not(b).find("."+ a.toggleLinkClass).text(a.openText).removeClass(a.openedClass).addClass(a.closedClass)):d.text(a.openText).removeClass(a.openedClass).addClass(a.closedClass);e.slideToggle(a.slideToggle);f.preventDefault()});b.append(j)}})}})(jQuery);