(function(c){c.fn.linkAccordion=function(d){var f=c(this),a=c.extend({},{closedClass:"toggled-closed",closeText:"Close",headingElement:"h2",linkHeadings:!1,openedClass:"toggled-open",openText:"Open",speed:"normal",toggleLinkClass:"section-toggle"},d),g=f.find(a.headingElement).addClass(a.closedClass),h=f.find(a.headingElement).next().not(a.headingElement).hide();return g.each(function(f,d){var b=c(d),e=b.next();if(!b.next().is(a.headingElement)&&0<b.next().length)if(!0===a.linkHeadings)b.click(function(){e.is(":hidden")? (b.removeClass(a.closedClass).addClass(a.openedClass),h.not(e).hide(a.speed),g.not(b).removeClass(a.openedClass).addClass(a.closedClass)):b.removeClass(a.openedClass).addClass(a.closedClass);e.slideToggle(a.speed);return!1});else{var j=c('<a href="#" />').text(a.openText).addClass(a.toggleLinkClass+" "+a.closedClass).click(function(){var d=c(this);e.is(":hidden")?(d.text(a.closeText).removeClass(a.closedClass).addClass(a.openedClass),h.not(e).hide(a.speed),g.not(b).find("."+a.toggleLinkClass).text(a.openText).removeClass(a.openedClass).addClass(a.closedClass)): d.text(a.openText).removeClass(a.openedClass).addClass(a.closedClass);e.slideToggle(a.speed);return!1});b.append(j)}})}})(jQuery);