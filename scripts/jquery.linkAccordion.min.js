(function(d){d.fn.linkAccordion=function(g){var a=d.extend({},{closedClass:"toggled-closed",closeText:"Close",defaultContent:0,headingElement:"h2",linkHeadings:!1,openedClass:"toggled-open",openText:"Open",slideToggle:"slow",toggleLinkClass:"section-toggle",toggleSectionClass:"accordion-section",toggleAll:!0},g);return this.each(function(g,l){var h=d(l),k=h.find(a.headingElement);h.delegate(a.linkHeadings?a.headingElement:a.toggleLinkClass,"click",function(f){var c=d(this),b=null,e=c.prop("nodeName").toLowerCase();
e===a.headingElement.toLowerCase()?b=c:"a"===e&&(b=c.parent(),c.text(c.text()===a.openText?a.closeText:a.openText),f.preventDefault());b.toggleClass(a.openedClass+" "+a.closedClass).next().slideToggle(a.slideToggle);a.toggleAll&&k.not(b).attr({"class":a.closedClass}).next().slideUp(a.slideToggle)});k.each(function(f,c){var b=a.defaultContent===f,e=d(c);e.addClass(b?a.openedClass:a.closedClass).nextUntil(a.headingElement).wrapAll('<div class="'+a.toggleSectionClass+'"'+(b?"":' style="display: none"')+
"/>");a.linkHeadings||e.append('<a href="#" class="'+a.toggleLinkClass+'">'+(b?a.closeText:a.openText)+"</a>")})})}})(jQuery);
